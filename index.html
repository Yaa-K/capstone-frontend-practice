<!DOCTYPE html>
<html>
<head>
    <title>AI Risk Predictor</title>
</head>
<body>
    <h1>AI Learning Risk Predictor</h1>

    <form id="predictForm">
        <label>Attendance:</label>
        <input type="number" id="attendance" required /><br><br>

        <label>Average Score:</label>
        <input type="number" id="score" required /><br><br>

        <label>Login Frequency:</label>
        <input type="number" id="login" required /><br><br>

        <button type="submit">Predict Risk</button>
    </form>

    <h2 id="result"></h2>

    <script>
        const form = document.getElementById("predictForm");

        form.addEventListener("submit", async (e) => {
            e.preventDefault();

            const attendance = document.getElementById("attendance").value;
            const score = document.getElementById("score").value;
            const login = document.getElementById("login").value;

            const response = await fetch("https://capstone-backend-practice.onrender.com/predict", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    attendance: parseInt(attendance),
                    average_score: parseFloat(score),
                    login_frequency: parseInt(login)
                })
            });

            const data = await response.json();

            document.getElementById("result").innerText =
                `Risk Level: ${data.risk_level} | Score: ${data.risk_score}`;
        });
    </script>
</body>
</html>
